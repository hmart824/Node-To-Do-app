<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%=title%></title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css">
    <link rel="stylesheet" href="/css/home.css">
</head>
<body>
    <div class="container">
        <h1>To Do App</h1>
        <form action="/add-task" method="post" class="my-3">
            <input type="text" name="task" placeholder="Enter task to add" style="width: 30rem; height: 2rem;" id="task-input" required>
            <button type="submit" style="width: 5rem; height: 2rem;">Add</button>
            <div class="tags my-1">
                <select name="category" id="select" required>
                    <option value="" disabled selected hidden>Choose a category</option>
                    <option value="Personal">Personal</option>
                    <option value="College">College</option>
                    <option value="School">School</option>
                    <option value="Work">Work</option>
                    <option value="office">office</option>
                    <option value="Others">Others</option>
                </select>
                <input type="date" name="date" id="date" required>
            </div>
        </form>
        <ul class="d-flex align-items-center flex-column" id="list">
            <% for(let i of tasks){%>
                <li class="d-flex justify-content-between align-items-center <%=i.checked && 'active'%>"  data-id="<%=i.id%>">
                    <input class="form-check-input check-box" type="checkbox" style="font-size: 1.2rem; margin: 0 0.7rem 0 0;" <%=i.checked ? "checked" : ""%>>
                    <div class="info" style="width: 21rem; position: relative;" contenteditable="false">
                        <p class="inp"><%=i.task%></p>
                        <p class="inp" style="font-size: .9rem; height: 1.4rem;">
                            <i class="bi bi-calendar-event" style="font-size: .9rem;"></i>
                            <%=i.due_date%>
                        </p>
                        <span class="category"><%=i.category%></span>
                    </div>
                    <i class="bi bi-pencil-square edit" title="Edit"></i>
                    <i class="bi bi-clipboard-check save" title="Save"></i>
                    <i class="bi bi-trash3 delete" title="Delete"></i>
                </li>
            <%}%>
        </ul>
        
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
    <script src="/js/home.js"></script>
</body>
</html>